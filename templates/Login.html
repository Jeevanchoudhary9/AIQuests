{% extends "layout.html" %}

{% block title %}
  Login - Access Your Account
{% endblock %}

{% block style %}
  <style>

    .logincontainer {
      padding-top: 50px;
    }
  </style>
{% endblock %}

{% block content %}
<div class="bg-gradient-to-b from-blue-50 to-white">
<div class="logincontainer max-w-md mx-auto">
  <div class="text-center mb-8">
    <h1 class="text-3xl font-bold">Welcome back</h1>
    <p class="text-gray-600 mt-2">Sign in to access your account</p>
  </div>

  <div class="bg-white rounded-lg shadow-md p-8">
    <div class="w-full">
      <!-- Tabs for switching -->
      <div class="relative flex flex-wrap px-1.5 py-1.5 list-none rounded-md bg-slate-100 mb-6">
        <button 
          id="user-tab" 
          class="flex-auto text-center py-2 text-sm font-medium text-slate-700 bg-white rounded-md shadow-md transition-all ease-in-out cursor-pointer" 
          onclick="showLogin('user')">
          User Login
        </button>
        <button 
          id="organization-tab" 
          class="flex-auto text-center py-2 text-sm font-medium text-slate-600 bg-inherit transition-all ease-in-out cursor-pointer" 
          onclick="showLogin('organization')">
          Organization Login
        </button>
      </div>
    </div>

    <!-- User Login Form -->
    <div id="user-login" class="login-form">
      <form action="{{ url_for('login') }}" method="POST" class="space-y-6">
        <input type="hidden" name="role" value="user">
        <div>
          <label for="user-email" class="block text-sm font-medium text-gray-700 mb-2">Email address</label>
          <input
            id="user-email"
            type="email"
            name="email"
            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="you@example.com"
            required
          />
        </div>
        <div>
          <label for="user-password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
          <input
            id="user-password"
            type="password"
            name="password"
            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="••••••••"
            required
          />
        </div>
        <button type="submit" class="w-full bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700">Sign in</button>
      </form>
    </div>

    <!-- Organization Login Form -->
    <div id="organization-login" class="hidden login-form">
      <form action="{{ url_for('login') }}" method="POST" class="space-y-6">
        <input type="hidden" name="role" value="organization">
        <div>
          <label for="org-email" class="block text-sm font-medium text-gray-700 mb-2">Organization Email</label>
          <input
            id="org-email"
            type="email"
            name="email"
            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="org@example.com"
            required
          />
        </div>
        <div>
          <label for="org-password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
          <input
            id="org-password"
            type="password"
            name="password"
            class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="••••••••"
            required
          />
        </div>
        <button type="submit" class="w-full bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700">Sign in</button>
      </form>
    </div>
  </div>
</div>
</div>

<script>
  function showLogin(type) {
    const userTab = document.getElementById("user-tab");
    const orgTab = document.getElementById("organization-tab");
    const userLogin = document.getElementById("user-login");
    const orgLogin = document.getElementById("organization-login");

    if (type === "user") {
      userTab.classList.add("bg-white", "text-slate-700", "shadow-md");
      orgTab.classList.remove("bg-white", "text-slate-700", "shadow-md");

      userLogin.classList.remove("hidden");
      orgLogin.classList.add("hidden");
    } else {
      orgTab.classList.add("bg-white", "text-slate-700", "shadow-md");
      userTab.classList.remove("bg-white", "text-slate-700", "shadow-md");

      orgLogin.classList.remove("hidden");
      userLogin.classList.add("hidden");
    }
  }

  // Set default view to User Login
  document.addEventListener("DOMContentLoaded", () => showLogin("user"));
</script>
{% endblock %}