{% extends "layout.html" %}

{% block title %}
  All Questions
{% endblock %}

{% block content %}
  <div class="max-w-6xl mx-auto">
    <div class="flex justify-between items-center mb-8">
      <h1 class="text-3xl font-bold">All Questions</h1>
      <a
        href=" url_for('ask_question') "
        class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700"
      >
        Ask Question
      </a>
    </div>

    <div class="bg-white rounded-lg shadow-md">
      % for question in questions %
        <div
          class="border-b last:border-0 p-6 hover:bg-gray-50 transition"
        >
          <div class="flex gap-6">
            <div class="flex flex-col items-center space-y-2 min-w-20">
              <div class="flex flex-col items-center">
                <span class="h-6 w-6 text-gray-400 cursor-pointer">
                  &#8593;
                </span>
                <span class="font-semibold text-lg"> question.upvotes </span>
              </div>
              <div class="flex items-center space-x-1">
                <span class="h-5 w-5 text-gray-400">&#128172;</span>
                <span class="text-sm text-gray-500"> question.comments_count </span>
              </div>
            </div>

            <div class="flex-1">
              <a
                href=" url_for('question_detail', question_id=question.id) "
                class="text-xl text-blue-600 hover:text-blue-800 font-semibold mb-2 block"
              >
                 question.title 
              </a>
              <p class="text-gray-600 mb-4">
                 question.short_description 
              </p>
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                  % for tag in question.tags %
                    <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">
                       tag 
                    </span>
                  % endfor %
                </div>
                <div class="flex items-center text-sm text-gray-500">
                  <img
                    src=" question.asker_image "
                    alt="User"
                    class="w-6 h-6 rounded-full mr-2"
                  />
                  <span>asked   question.time_ago   ago by  question.asker_name </span>
                </div>
              </div>
            </div>

            % if question.is_ai_answered %
              <div class="flex items-center space-x-2 min-w-32">
                <span class="h-5 w-5 text-green-500">&#129302;</span>
                <span class="text-sm text-gray-600">AI Answered</span>
              </div>
            % endif %
          </div>
        </div>
      % endfor %
    </div>
  </div>
{% endblock %}
